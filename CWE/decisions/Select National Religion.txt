#Necessary to program it this way for it to work
political_decisions = {
	national_religion_change = {
		picture = "national_religion_change"
		potential = {

			#NOT = { pop_majority_religion = secularism }
			#NOT = { religion = secularism }

			#NOT = { has_country_flag = offical_religions }

		}
		allow = {

			#OR = { ruling_party_ideology = liberal ruling_party_ideology = big_tent ruling_party_ideology = progressive ruling_party_ideology = conservative ruling_party_ideology = traditionalist }
			exists = yes

			#election = no
			#war = no
		}
		effect = {

			set_country_flag = offical_religions

			random_owned = { limit = { OR = { is_primary_culture = yes AND = { is_primary_culture = no any_pop = { is_primary_culture = yes } owner = { NOT = { any_owned_province = { is_primary_culture = yes } } } } } } add_province_modifier = { name = religion_flag duration = 1 } }

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					#country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = jewish } }
					religion = jewish
				}
				country = { religion = jewish }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					#country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = protestant } }
					religion = protestant
				}
				country = { religion = protestant }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					#country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = catholic } }
					religion = catholic
				}
				country = { religion = catholic }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					#country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = orthodox } }
					religion = orthodox
				}
				country = { religion = orthodox }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					#country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = ibad } }
					religion = ibad
				}
				country = { religion = ibad }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = mennonite } }
					religion = mennonite
				}
				country = { religion = mennonite }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = sunni } }
					religion = sunni
				}
				country = { religion = sunni }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = shiite } }
					religion = shiite
				}
				country = { religion = shiite }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = buddhist } }
					religion = buddhist
				}
				country = { religion = buddhist }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = hindu } }
					religion = hindu
				}
				country = { religion = hindu }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = taoism } }
					religion = taoism
				}
				country = { religion = taoism }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = shinto } }
					religion = shinto
				}
				country = { religion = shinto }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = sikh } }
					religion = sikh
				}
				country = { religion = sikh }
			}

			random_pop = {
				limit = {
					location = { has_province_modifier = religion_flag }
					is_primary_culture = yes
					country = { any_pop = { location = { is_capital = yes } is_primary_culture = yes religion = animist } }
					religion = animist
				}
				country = { religion = animist }
			}

			any_owned_province = { remove_province_modifier = religion_flag }

		}
		ai_will_do = { 
			factor = 0
		}
	}
}